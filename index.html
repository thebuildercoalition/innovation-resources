<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>TBC Innovation Resources</title>
  <script src="lib/webviewer.min.js"></script>
  <style>
    html, body, #viewer {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <div id="viewer"></div>

  <script>
    const token = new URLSearchParams(window.location.search).get('token');
    const validTokens = ['abc123', 'xyz789']; // Replace or fetch from Airtable if needed

    if (!validTokens.includes(token)) {
      document.body.innerHTML = '<h2>Access Denied</h2><p>Invalid or missing token.</p>';
      throw new Error('Unauthorized');
    }

    WebViewer({
      path: 'lib',
      licenseKey: 'YOUR_FREE_LICENSE_KEY', // Replace with your real key
      initialDoc: 'my-document.pdf',
      isReadOnly: true,
      enableOfficeEditing: false
    }, document.getElementById('viewer')).then(instance => {
      const { UI } = instance;
      // Hide all UI
      UI.disableElements([
        'header',
        'toolsHeader',
        'leftPanel',
        'rightPanel',
        'toolbarGroup-Annotate',
        'toolbarGroup-Edit',
        'toolbarGroup-Shapes',
        'toolbarGroup-Insert',
        'toolbarGroup-Forms',
        'toolbarGroup-FillAndSign',
        'menuButton',
        'searchButton',
        'downloadButton',
        'printButton',
        'saveAsButton',
        'pageNavOverlay',
        'zoomOverlay'
      ]);

      UI.setToolbarGroup(''); // Reset toolbars completely
      UI.setShowToolbarGroup(false); // Donâ€™t allow toolbar switching
      UI.closeElements(['leftPanel', 'rightPanel', 'toolsHeader', 'header']);
    });
  </script>
</body>
</html>
